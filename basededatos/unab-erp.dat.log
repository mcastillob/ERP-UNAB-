/*C4*/SET SCHEMA PUBLIC
alter table DESCUENTOS drop constraint FK_34hct0mavtq7cql0f4gnwsl70
alter table DIASTRABAJADOS drop constraint FK_svuoa6qvdc3mrlty2tkqsp2al
alter table EMPLEADOS drop constraint FK_asvkrtsvoou0qy2uls9v7b4p3
alter table EMPLEADOS drop constraint FK_lrf65pk5c56vc0kqc7ru876m5
alter table JORNADAS drop constraint FK_nfcd2rkuw7joqa472rxndlqsd
alter table SOLICITUDES drop constraint FK_1heqe9g0fsha81bj81x3w695p
alter table SOLICITUDES drop constraint FK_6nxh57or03vpb6itmf74lkc4d
alter table USUARIOS drop constraint FK_ttt4xt6qjnrrf0x0hon3qabj
drop table CARGOS if exists
drop table DESCUENTOS if exists
drop table DIASTRABAJADOS if exists
drop table EMPLEADOS if exists
drop table JORNADAS if exists
drop table LIQUIDACIONES if exists
drop table PERSONAS if exists
drop table SOLICITUDES if exists
drop table USUARIOS if exists
create table CARGOS (CARGO_ID integer generated by default as identity (start with 1), NOMBRE varchar(255), DESCRIPCION varchar(255), primary key (CARGO_ID))
create table DESCUENTOS (DESCUENTO_ID integer generated by default as identity (start with 1), NOMBRE varchar(255), VALOR float, LIQUIDACION_ID integer, primary key (DESCUENTO_ID))
create table DIASTRABAJADOS (DIATRABAJADO_ID integer generated by default as identity (start with 1), HORA_INICIO varchar(255), HORA_TERMINO varchar(255), DIA timestamp, JORNADA_ID integer, primary key (DIATRABAJADO_ID))
create table EMPLEADOS (EMPLEADO_ID integer not null, FECHA_INGRESO timestamp, HH_CONTRATADAS integer, CARGO_ID integer, primary key (EMPLEADO_ID))
create table JORNADAS (JORNADA_ID integer generated by default as identity (start with 1), TOTAL_HH integer, EMPLEADO_ID integer, primary key (JORNADA_ID))
create table LIQUIDACIONES (LIQUIDACION_ID integer generated by default as identity (start with 1), PERIODO varchar(255), FECHA_INGRESO timestamp, SUELDO_BRUTO float, TOTAL_DESCUENTO float, SUELDO_LIQUIDO float, primary key (LIQUIDACION_ID))
create table PERSONAS (PERSONA_ID integer generated by default as identity (start with 1), NOMBRE varchar(255), APELLIDO_PAT varchar(255), APELLIDO_MAT varchar(255), RUT varchar(255), CORREO varchar(255), DIRECCION varchar(255), FONO varchar(255), FECHA_NACIMIENTO timestamp, FECHA_INGRESO timestamp, primary key (PERSONA_ID))
create table SOLICITUDES (DIATRABAJADO_ID integer not null, TIPO_SOLICITUD varchar(255), TIPO_ESTADO varchar(255), EMPLEADO_ID integer, primary key (DIATRABAJADO_ID))
create table USUARIOS (PERSONA_ID integer not null, CLAVE varchar(255), primary key (PERSONA_ID))
alter table EMPLEADOS add constraint UK_lrf65pk5c56vc0kqc7ru876m5  unique (CARGO_ID)
alter table DESCUENTOS add constraint FK_34hct0mavtq7cql0f4gnwsl70 foreign key (LIQUIDACION_ID) references LIQUIDACIONES
alter table DIASTRABAJADOS add constraint FK_svuoa6qvdc3mrlty2tkqsp2al foreign key (JORNADA_ID) references JORNADAS
alter table EMPLEADOS add constraint FK_asvkrtsvoou0qy2uls9v7b4p3 foreign key (EMPLEADO_ID) references PERSONAS
alter table EMPLEADOS add constraint FK_lrf65pk5c56vc0kqc7ru876m5 foreign key (CARGO_ID) references CARGOS
alter table JORNADAS add constraint FK_nfcd2rkuw7joqa472rxndlqsd foreign key (EMPLEADO_ID) references EMPLEADOS
alter table SOLICITUDES add constraint FK_1heqe9g0fsha81bj81x3w695p foreign key (DIATRABAJADO_ID) references DIASTRABAJADOS
alter table SOLICITUDES add constraint FK_6nxh57or03vpb6itmf74lkc4d foreign key (EMPLEADO_ID) references EMPLEADOS
alter table USUARIOS add constraint FK_ttt4xt6qjnrrf0x0hon3qabj foreign key (PERSONA_ID) references PERSONAS
/*C5*/SET SCHEMA PUBLIC
INSERT INTO PERSONAS VALUES(1,'miguel andres','castillo berrios',NULL,'16122203-8','mcastillo@cajmetro','amunategui','56792877',NULL,NULL)
INSERT INTO EMPLEADOS VALUES(1,NULL,0,NULL)
COMMIT
/*C6*/SET SCHEMA PUBLIC
DELETE FROM EMPLEADOS WHERE EMPLEADO_ID=1
DELETE FROM PERSONAS WHERE PERSONA_ID=1
COMMIT
